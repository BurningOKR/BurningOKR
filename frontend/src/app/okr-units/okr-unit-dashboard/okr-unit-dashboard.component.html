<div class="app-container footer-margin">
  <app-okr-toolbar>
    <span>{{'okr-unit-dashboard.okr-toolbar.unit-overview' | translate}}</span>
  </app-okr-toolbar>

  <!-- General Buttons -->
  <div class="margin-toolbar item-actions">
    <button class="add-button" mat-stroked-button (click)="addCompany()" [disabled]="(isCurrentUserAdmin$ | async) === false">
      <mat-icon>add_circle_outline</mat-icon>
      {{'okr-unit-dashboard.tooltip.add-unit' | translate }}
    </button>
  </div>

  <!-- A card for each company -->
  <div *ngIf="companies$ | async as companies; else loading">
    <div *ngFor="let company of companies">
      <app-okr-unit-card [company]="company" (companyDeleted)="updateCompanies()" (newCycleStarted)="updateCompanies()">
      </app-okr-unit-card>
    </div>
  </div>
  <ng-template #loading>
    <app-loading-spinner class="center center"></app-loading-spinner>
  </ng-template>
</div>
