<app-dialog-component [title]="title" [formGroup]="keyResultForm" [hasFormGroupError]="true"
                      (okEmitter)="saveKeyResult()">
  <form [formGroup]="keyResultForm">
    <mat-form-field class="keyresult">
      <textarea i18n-placeholder="@@component_keyResultForm_keyResult" matInput placeholder="Key Result *" cdkTextareaAutosize formControlName="keyResult"></textarea>
      <app-form-error [control]="cycleForm.get('keyResult')"></app-form-error>

    </mat-form-field>

    <mat-form-field class="number-input">
      <input i18n-placeholder="@@component_keyResultForm_start" matInput placeholder="Start *" type="number" formControlName="start" min="0">
      <app-form-error [control]="cycleForm.get('start')"></app-form-error>

    </mat-form-field>

    <mat-form-field class="number-input">
      <input i18n-placeholder="@@component_keyResultForm_target" matInput placeholder="Ziel *" type="number" formControlName="end" min="0">
      <app-form-error [control]="cycleForm.get('end')"></app-form-error>

    </mat-form-field>

    <mat-form-field class="number-input">
      <input i18n-placeholder="@@component_keyResultForm_current" matInput placeholder="Aktuell *" type="number" formControlName="current" min="0">
      <app-form-error [control]="cycleForm.get('current')"></app-form-error>

    </mat-form-field>

    <mat-form-field class="number-input">
      <mat-select i18n-placeholder="@@component_keyResultForm_unit" placeholder="Einheit *" [formControlName]="'unit'">
        <mat-option *ngFor="let unitKey of getViewUnitKeys()" [value]="getViewUnit(unitKey)">
          {{getViewUnit(unitKey)}}
        </mat-option>
      </mat-select>
      <app-form-error [control]="cycleForm.get('unit')"></app-form-error>

    </mat-form-field>

    <mat-form-field class="fullWidth">
      <textarea matInput matTextareaAutosize i18n-placeholder="@@component_keyResultForm_description" placeholder="Beschreibung" formControlName="description"></textarea>
      <app-form-error [control]="cycleForm.get('description')"></app-form-error>

    </mat-form-field>

  </form>
</app-dialog-component>
