<div class="tab-limited-width margin-auto">
  <div class="tab-headline text-center" i18n="@@component_departmentTabDescription_description">Beschreibung</div>
  <div *ngIf="description$ | async as description; else loading">
    <span class="tab-subtitle text-left" i18n="@@component_departmentTabDescription_topic">Thema:</span>
    {{description.name}}
    <br>
    <span class="tab-subtitle text-left" i18n="@@component_departmentTabDescription_beginning">Beginn:</span>
    {{description.beginning | date}}
    <div class="tab-subtitle text-left" i18n="@@component_departmentTabDescription_acceptanceCriteria">
      Akzeptanzkriterien:
    </div>
    {{description.acceptanceCriteria}}
    <div class="tab-subtitle text-left" i18n="@@component_departmentTabDescription_contributesTo">Zählt ein auf:</div>
    {{description.contributesTo}}
    <div class="tab-subtitle text-left" i18n="@@component_departmentTabDescription_delimitation">Abgrenzung:</div>
    {{description.delimitation}}
    <div class="tab-subtitle text-left" i18n="@@component_departmentTabDescription_dependencies">Abhängigkeiten:</div>
    {{description.dependencies}}
    <div class="tab-subtitle text-left" i18n="@@component_departmentTabDescription_resources">Benötigte Ressourcen:
    </div>
    {{description.resources}}
    <div class="tab-subtitle text-left" i18n="@@component_departmentTabDescription_handoverPlan">Übergabeplan:</div>
    {{description.handoverPlan}}

    <!-- User -->
    <div class="flex-wrap-spreadinner">
      <div *ngIf="description.initiatorId != null">
        <br/>
        <mat-divider></mat-divider>
        <br/>
        <div class="tab-subtitle" i18n="@@component_departmentTabDescription_initiator">Initiator:</div>
        <app-user-minibutton [userId]="description.initiatorId" [canBeRemoved]="false">
        </app-user-minibutton>
      </div>
    </div>
    <div *ngIf="description.startTeam.length != 0">
      <br/>
      <mat-divider></mat-divider>
      <br/>
      <div class="tab-subtitle" i18n="@@component_departmentTabDescription_startteam">Startteam:</div>
      <div class="flex-wrap-spreadinner">
        <div *ngFor="let currentuser of description.startTeam">
          <app-user-minibutton [userId]="currentuser" [canBeRemoved]="false">
          </app-user-minibutton>
        </div>
      </div>
    </div>

    <div *ngIf="description.stakeholders.length != 0">
      <br/>
      <mat-divider></mat-divider>
      <br/>
      <div class="tab-subtitle" i18n="@@component_departmentTabDescription_stakeholder">Stakeholder:</div>
      <div class="flex-wrap-spreadinner">
        <div *ngFor="let currentuser of description.stakeholders">
          <app-user-minibutton [userId]="currentuser" [canBeRemoved]="false">
          </app-user-minibutton>
        </div>
      </div>
    </div>
    <br><br>
    <div class="text-center mb-10">
      <button mat-raised-button color="primary" (click)="openDialog(description)" [disabled]="!canEdit">
        <mat-icon>edit</mat-icon>
        <span i18n="@@component_departmentTabDescription_editDescription">Beschreibung bearbeiten</span>
      </button>
    </div>
  </div>
</div>

<ng-template #loading>
  <div class="loading-content">
    <br/>
    <mat-spinner></mat-spinner>
    <br/>
  </div>
</ng-template>
